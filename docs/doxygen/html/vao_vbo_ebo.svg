<?xml version="1.0" encoding="UTF-8"?>
<svg width="1000" height="700" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="vbo_grad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3498DB;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2980B9;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="vao_grad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#E74C3C;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#C0392B;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="ebo_grad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#2ECC71;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#27AE60;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- Title -->
  <text x="500" y="40" font-family="Arial, sans-serif" font-size="26" font-weight="bold" text-anchor="middle" fill="#2C3E50">
    OpenGL Buffer Objects: VAO, VBO, EBO
  </text>

  <!-- VBO Section -->
  <g transform="translate(50, 80)">
    <rect width="280" height="250" rx="10" fill="url(#vbo_grad)" filter="url(#shadow)"/>
    <text x="140" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle" fill="white">VBO</text>
    <text x="140" y="50" font-family="Arial" font-size="14" text-anchor="middle" fill="#E8F4F8">Vertex Buffer Object</text>

    <!-- Data table -->
    <rect x="10" y="65" width="260" height="170" fill="white" fill-opacity="0.9" rx="5"/>
    <text x="140" y="85" font-family="Courier New" font-size="11" font-weight="bold" text-anchor="middle" fill="#2C3E50">THE DATA (Vertex Array)</text>

    <text x="20" y="105" font-family="Courier New" font-size="10" fill="#555">Vertex 0:</text>
    <text x="30" y="120" font-family="Courier New" font-size="9" fill="#2980B9">pos: (-1.0, -1.0, -1.0)</text>
    <text x="30" y="132" font-family="Courier New" font-size="9" fill="#E74C3C">col: (1.0, 0.0, 0.0)</text>

    <text x="20" y="152" font-family="Courier New" font-size="10" fill="#555">Vertex 1:</text>
    <text x="30" y="167" font-family="Courier New" font-size="9" fill="#2980B9">pos: (1.0, -1.0, -1.0)</text>
    <text x="30" y="179" font-family="Courier New" font-size="9" fill="#27AE60">col: (0.0, 1.0, 0.0)</text>

    <text x="20" y="199" font-family="Courier New" font-size="10" fill="#555">Vertex 2:</text>
    <text x="30" y="214" font-family="Courier New" font-size="9" fill="#2980B9">pos: (1.0, 1.0, -1.0)</text>
    <text x="30" y="226" font-family="Courier New" font-size="9" fill="#3498DB">col: (0.0, 0.0, 1.0)</text>
  </g>

  <!-- VAO Section -->
  <g transform="translate(370, 80)">
    <rect width="280" height="250" rx="10" fill="url(#vao_grad)" filter="url(#shadow)"/>
    <text x="140" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle" fill="white">VAO</text>
    <text x="140" y="50" font-family="Arial" font-size="14" text-anchor="middle" fill="#FFE8E8">Vertex Array Object</text>

    <!-- Recipe -->
    <rect x="10" y="65" width="260" height="170" fill="white" fill-opacity="0.9" rx="5"/>
    <text x="140" y="85" font-family="Courier New" font-size="11" font-weight="bold" text-anchor="middle" fill="#2C3E50">THE RECIPE (Layout Info)</text>

    <text x="20" y="110" font-family="Courier New" font-size="10" fill="#555">Attribute 0: Position</text>
    <text x="30" y="125" font-family="Courier New" font-size="9" fill="#2C3E50">• Size: 3 floats (x, y, z)</text>
    <text x="30" y="137" font-family="Courier New" font-size="9" fill="#2C3E50">• Stride: 24 bytes</text>
    <text x="30" y="149" font-family="Courier New" font-size="9" fill="#2C3E50">• Offset: 0 bytes</text>

    <line x1="20" y1="160" x2="260" y2="160" stroke="#CCC" stroke-width="1"/>

    <text x="20" y="175" font-family="Courier New" font-size="10" fill="#555">Attribute 1: Color</text>
    <text x="30" y="190" font-family="Courier New" font-size="9" fill="#2C3E50">• Size: 3 floats (r, g, b)</text>
    <text x="30" y="202" font-family="Courier New" font-size="9" fill="#2C3E50">• Stride: 24 bytes</text>
    <text x="30" y="214" font-family="Courier New" font-size="9" fill="#2C3E50">• Offset: 12 bytes</text>
  </g>

  <!-- EBO Section -->
  <g transform="translate(690, 80)">
    <rect width="280" height="250" rx="10" fill="url(#ebo_grad)" filter="url(#shadow)"/>
    <text x="140" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle" fill="white">EBO</text>
    <text x="140" y="50" font-family="Arial" font-size="14" text-anchor="middle" fill="#E8FFE8">Element Buffer Object</text>

    <!-- Indices -->
    <rect x="10" y="65" width="260" height="170" fill="white" fill-opacity="0.9" rx="5"/>
    <text x="140" y="85" font-family="Courier New" font-size="11" font-weight="bold" text-anchor="middle" fill="#2C3E50">THE CONNECTIONS (Indices)</text>

    <text x="20" y="110" font-family="Courier New" font-size="10" fill="#555">Triangle 0:</text>
    <text x="30" y="125" font-family="Courier New" font-size="9" fill="#2C3E50">indices: 0, 1, 2</text>
    <text x="30" y="137" font-family="Courier New" font-size="9" fill="#27AE60">→ Uses vertices 0, 1, 2</text>

    <text x="20" y="157" font-family="Courier New" font-size="10" fill="#555">Triangle 1:</text>
    <text x="30" y="172" font-family="Courier New" font-size="9" fill="#2C3E50">indices: 0, 2, 3</text>
    <text x="30" y="184" font-family="Courier New" font-size="9" fill="#27AE60">→ Reuses vertices 0, 2!</text>

    <text x="140" y="210" font-family="Arial" font-size="10" font-style="italic" text-anchor="middle" fill="#27AE60">Saves memory by</text>
    <text x="140" y="225" font-family="Arial" font-size="10" font-style="italic" text-anchor="middle" fill="#27AE60">reusing vertices!</text>
  </g>

  <!-- Arrows showing relationships -->
  <g>
    <defs>
      <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
        <polygon points="0 0, 10 3, 0 6" fill="#2C3E50" />
      </marker>
    </defs>

    <!-- VBO to VAO -->
    <path d="M 330 205 L 370 205" stroke="#2C3E50" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
    <text x="350" y="195" font-family="Arial" font-size="11" text-anchor="middle" fill="#2C3E50">describes</text>

    <!-- VAO to EBO -->
    <path d="M 650 205 L 690 205" stroke="#2C3E50" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
    <text x="670" y="195" font-family="Arial" font-size="11" text-anchor="middle" fill="#2C3E50">indexes</text>
  </g>

  <!-- How they work together -->
  <g transform="translate(50, 370)">
    <rect width="920" height="280" rx="10" fill="#ECF0F1" filter="url(#shadow)"/>
    <text x="460" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle" fill="#2C3E50">
      How They Work Together
    </text>

    <!-- Step 1 -->
    <g transform="translate(20, 50)">
      <circle cx="15" cy="15" r="15" fill="#3498DB"/>
      <text x="15" y="20" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="white">1</text>
      <text x="40" y="12" font-family="Arial" font-size="14" fill="#2C3E50">CPU creates VBO with vertex data</text>
      <text x="40" y="28" font-family="Courier New" font-size="11" fill="#555">glBufferData(GL_ARRAY_BUFFER, sizeof(vertices), vertices, GL_STATIC_DRAW)</text>
    </g>

    <!-- Step 2 -->
    <g transform="translate(20, 90)">
      <circle cx="15" cy="15" r="15" fill="#E74C3C"/>
      <text x="15" y="20" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="white">2</text>
      <text x="40" y="12" font-family="Arial" font-size="14" fill="#2C3E50">CPU creates VAO describing VBO layout</text>
      <text x="40" y="28" font-family="Courier New" font-size="11" fill="#555">glVertexAttribPointer(0, 3, GL_FLOAT, ...) // position</text>
      <text x="40" y="42" font-family="Courier New" font-size="11" fill="#555">glVertexAttribPointer(1, 3, GL_FLOAT, ...) // color</text>
    </g>

    <!-- Step 3 -->
    <g transform="translate(20, 150)">
      <circle cx="15" cy="15" r="15" fill="#2ECC71"/>
      <text x="15" y="20" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="white">3</text>
      <text x="40" y="12" font-family="Arial" font-size="14" fill="#2C3E50">CPU creates EBO with triangle indices</text>
      <text x="40" y="28" font-family="Courier New" font-size="11" fill="#555">glBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(indices), indices, GL_STATIC_DRAW)</text>
    </g>

    <!-- Step 4 -->
    <g transform="translate(20, 195)">
      <circle cx="15" cy="15" r="15" fill="#9B59B6"/>
      <text x="15" y="20" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="white">4</text>
      <text x="40" y="12" font-family="Arial" font-size="14" fill="#2C3E50">GPU draws using all three</text>
      <text x="40" y="28" font-family="Courier New" font-size="11" fill="#555">glBindVertexArray(VAO)</text>
      <text x="40" y="42" font-family="Courier New" font-size="11" fill="#555">glDrawElements(GL_TRIANGLES, 6, GL_UNSIGNED_INT, 0)</text>
    </g>

    <!-- Result -->
    <g transform="translate(20, 245)">
      <text x="0" y="0" font-family="Arial" font-size="14" font-weight="bold" fill="#27AE60">Result:</text>
      <text x="70" y="0" font-family="Arial" font-size="13" fill="#2C3E50">GPU reads VBO layout from VAO, fetches vertices using EBO indices, draws triangles!</text>
    </g>
  </g>
</svg>
